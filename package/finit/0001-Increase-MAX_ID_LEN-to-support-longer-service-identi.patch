From 927acdbd7e19b1a9a0065ebdb88b663ec6626b88 Mon Sep 17 00:00:00 2001
From: Joachim Wiberg <troglobit@gmail.com>
Date: Tue, 14 Oct 2025 11:49:57 +0200
Subject: [PATCH] Increase MAX_ID_LEN to support longer service identifiers
Organization: Wires

Allow service IDs up to 64 characters to support SHA-256 hashes,
UUIDs, and other long unique identifiers. This increases memory
usage by ~98 bytes per service instance, which is negligible for
typical deployments.

The IDENT column width in initctl output adapts dynamically based
on actual ID lengths in use, so short IDs remain unaffected.

Signed-off-by: Joachim Wiberg <troglobit@gmail.com>
---
 src/svc.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/svc.h b/src/svc.h
index 74cc3ca..1a7e6f2 100644
--- a/src/svc.h
+++ b/src/svc.h
@@ -94,7 +94,7 @@ typedef enum {
 	SVC_NOTIFY_S6,
 } svc_notify_t;
 
-#define MAX_ID_LEN       16
+#define MAX_ID_LEN       65
 #define MAX_ARG_LEN      64
 #define MAX_CMD_LEN      256
 #define MAX_IDENT_LEN    (MAX_ARG_LEN + MAX_ID_LEN + 1)
-- 
2.43.0

