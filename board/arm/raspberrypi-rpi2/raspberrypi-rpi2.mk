# Raspberry Pi 2 Model B specific kernel configuration
define RASPBERRYPI_RPI2_LINUX_CONFIG_FIXUPS
	$(call KCONFIG_ENABLE_OPT,CONFIG_ARCH_BCM)
	$(call KCONFIG_ENABLE_OPT,CONFIG_ARCH_BCM2835)

	$(call KCONFIG_ENABLE_OPT,CONFIG_SOUND)
	$(call KCONFIG_ENABLE_OPT,CONFIG_SND)
	$(call KCONFIG_ENABLE_OPT,CONFIG_SND_SOC)
	$(call KCONFIG_SET_OPT,CONFIG_SND_BCM2835_SOC_I2S,y)
	$(call KCONFIG_SET_OPT,CONFIG_SND_BCM2835,m)
	$(call KCONFIG_ENABLE_OPT,CONFIG_INPUT_MOUSE)
	$(call KCONFIG_ENABLE_OPT,CONFIG_INPUT_KEYBOARD)
	$(call KCONFIG_ENABLE_OPT,CONFIG_INPUT_TOUCHSCREEN)
	$(call KCONFIG_SET_OPT,CONFIG_INPUT_MOUSEDEV,m)
	$(call KCONFIG_SET_OPT,CONFIG_HID_GENERIC,m)
	$(call KCONFIG_SET_OPT,CONFIG_TOUCHSCREEN_EDT_FT5X06,m)

	$(call KCONFIG_ENABLE_OPT,CONFIG_ARCH_BCM)
	$(call KCONFIG_ENABLE_OPT,CONFIG_ARCH_BCM2835)
	$(call KCONFIG_SET_OPT,CONFIG_BCM2835_MBOX,y)
	$(call KCONFIG_ENABLE_OPT,CONFIG_BCM2835_WDT)
	$(call KCONFIG_ENABLE_OPT,CONFIG_DMA_BCM2835)
	$(call KCONFIG_ENABLE_OPT,CONFIG_RASPBERRYPI_FIRMWARE)
	$(call KCONFIG_ENABLE_OPT,CONFIG_RASPBERRYPI_POWER)
	$(call KCONFIG_ENABLE_OPT,CONFIG_ARM_RASPBERRYPI_CPUFREQ)
	$(call KCONFIG_ENABLE_OPT,CONFIG_CLK_RASPBERRYPI)
	$(call KCONFIG_ENABLE_OPT,CONFIG_PINCTRL_BCM2835)
	$(call KCONFIG_ENABLE_OPT,CONFIG_GPIO_BCM2835)
	$(call KCONFIG_ENABLE_OPT,CONFIG_PWM_BCM2835)
	$(call KCONFIG_SET_OPT,CONFIG_BRCMFMAC,m)
	$(call KCONFIG_ENABLE_OPT,CONFIG_BRCMFMAC_SDIO)
	$(call KCONFIG_SET_OPT,CONFIG_I2C_BCM2835,m)
	$(call KCONFIG_SET_OPT,CONFIG_SPI_BCM2835,y)
	$(call KCONFIG_SET_OPT,CONFIG_SPI_BCM2835AUX,y)
	$(call KCONFIG_SET_OPT,CONFIG_SENSORS_RASPBERRYPI_HWMON,m)
	$(call KCONFIG_SET_OPT,CONFIG_BCM2711_THERMAL,y)
	$(call KCONFIG_SET_OPT,CONFIG_BCM2835_THERMAL,m)
	$(call KCONFIG_ENABLE_OPT,CONFIG_MMC_BCM2835)
	$(call KCONFIG_SET_OPT,CONFIG_MMC_SDHCI_IPROC,y)
	$(call KCONFIG_ENABLE_OPT,CONFIG_SERIAL_8250)
	$(call KCONFIG_ENABLE_OPT,CONFIG_SERIAL_8250_CONSOLE)
	$(call KCONFIG_ENABLE_OPT,CONFIG_SERIAL_8250_BCM2835AUX)
	$(call KCONFIG_ENABLE_OPT,CONFIG_SERIAL_8250_EXTENDED)
	$(call KCONFIG_ENABLE_OPT,CONFIG_SERIAL_8250_SHARE_IRQ)
	$(call KCONFIG_ENABLE_OPT,CONFIG_SERIAL_AMBA_PL011)
	$(call KCONFIG_ENABLE_OPT,CONFIG_SERIAL_AMBA_PL011_CONSOLE)
	$(call KCONFIG_ENABLE_OPT,CONFIG_NET_VENDOR_BROADCOM)
	$(call KCONFIG_SET_OPT,CONFIG_BCMGENET,y)
	$(call KCONFIG_SET_OPT,CONFIG_SMSC911X,y)
	$(call KCONFIG_ENABLE_OPT,CONFIG_USB_USBNET)
	$(call KCONFIG_SET_OPT,CONFIG_USB_LAN78XX,y)
	$(call KCONFIG_SET_OPT,CONFIG_USB_NET_SMSC95XX,y)
	$(call KCONFIG_SET_OPT,CONFIG_REGULATOR_GPIO,y)
	$(call KCONFIG_ENABLE_OPT,CONFIG_COMMON_CLK_BCM2835)
	$(call KCONFIG_ENABLE_OPT,CONFIG_DRM)
	$(call KCONFIG_ENABLE_OPT,CONFIG_DRM_KMS_HELPER)
	$(call KCONFIG_SET_OPT,CONFIG_DRM_SIMPLEDRM,y)
	$(call KCONFIG_SET_OPT,CONFIG_DRM_V3D,m)
	$(call KCONFIG_SET_OPT,CONFIG_DRM_VC4,m)
	$(call KCONFIG_ENABLE_OPT,CONFIG_DRM_VC4_HDMI_CEC)
	$(call KCONFIG_ENABLE_OPT,CONFIG_DRM_LOAD_EDID_FIRMWARE)
	$(call KCONFIG_ENABLE_OPT,CONFIG_DRM_PANEL_BRIDGE)
	$(call KCONFIG_ENABLE_OPT,CONFIG_DRM_BRIDGE)
	$(call KCONFIG_SET_OPT,CONFIG_DRM_TOSHIBA_TC358762,m)
	$(call KCONFIG_SET_OPT,CONFIG_DRM_PANEL_SIMPLE,m)
	$(call KCONFIG_SET_OPT,CONFIG_STAGING,y)

	$(call KCONFIG_ENABLE_OPT,CONFIG_FB)
	$(call KCONFIG_ENABLE_OPT,CONFIG_FRAMEBUFFER_CONSOLE)
	$(call KCONFIG_ENABLE_OPT,CONFIG_FRAMEBUFFER_CONSOLE_DETECT_PRIMARY)
	$(call KCONFIG_ENABLE_OPT,CONFIG_DRM_FBDEV_EMULATION)
	$(call KCONFIG_ENABLE_OPT,CONFIG_BACKLIGHT_CLASS_DEVICE)

	$(call KCONFIG_ENABLE_OPT,CONFIG_USB_DWC2)
	$(call KCONFIG_ENABLE_OPT,CONFIG_NOP_USB_XCEIV)
endef

$(eval $(ix-board))
$(eval $(generic-package))
