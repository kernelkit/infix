{
  "ieee802-dot1ab-lldp:lldp": {
    "infix-lldp:enabled": true
  },
  "ietf-hardware:hardware": {
    "component": [
      {
        "class": "infix-hardware:usb",
        "name": "USB",
        "state": {
          "admin-state": "unlocked"
        }
      }
    ]
  },
  "ietf-interfaces:interfaces": {
    "interface": [
      {
        "name": "br0",
        "type": "infix-if-type:bridge",
        "ietf-ip:ipv4": {
          "address": [
            {
              "ip": "192.168.0.1",
              "prefix-length": 24
            }
          ]
        }
      },
      {
        "name": "lan",
        "type": "infix-if-type:ethernet",
        "ietf-ip:ipv6": {},
        "infix-interfaces:bridge-port": {
          "bridge": "br0"
        }
      },
      {
        "name": "lo",
        "type": "infix-if-type:loopback",
        "ietf-ip:ipv4": {
          "address": [
            {
              "ip": "127.0.0.1",
              "prefix-length": 8
            }
          ]
        },
        "ietf-ip:ipv6": {
          "address": [
            {
              "ip": "::1",
              "prefix-length": 128
            }
          ]
        }
      },
      {
        "name": "wan",
        "type": "infix-if-type:ethernet",
        "ietf-ip:ipv4": {
          "infix-dhcp-client:dhcp": {
            "option": [
              {"id": "ntp-server"},
              {"id": "broadcast"},
              {"id": "domain"},
              {"id": "hostname"},
              {"id": "dns-server"},
              {"id": "router"},
              {"id": "netmask"},
              {"id": "vendor-class", "value": "NanoPi R2S"}
            ]
          }
        },
        "ietf-ip:ipv6": {
          "infix-dhcpv6-client:dhcp": {
            "option": [
              {"id": "ntp-server"},
              {"id": "client-fqdn"},
              {"id": "domain-search"},
              {"id": "dns-server"}
            ]
          }
        }
      }
    ]
  },
  "ietf-keystore:keystore": {
        "asymmetric-keys": {
            "asymmetric-key": [
                {
                    "name": "genkey",
                    "public-key-format": "infix-crypto-types:ssh-public-key-format",
                    "public-key": "",
                    "private-key-format": "infix-crypto-types:rsa-private-key-format",
                    "cleartext-private-key": "",
                    "certificates": {}
                }
            ]
        }
  },
  "ietf-netconf-acm:nacm": {
    "enable-nacm": true,
    "groups": {
      "group": [
        {
          "name": "admin",
          "user-name": [
            "admin"
          ]
        }
      ]
    },
    "rule-list": [
      {
        "name": "admin-acl",
        "group": [
          "admin"
        ],
        "rule": [
          {
            "name": "permit-all",
            "module-name": "*",
            "access-operations": "*",
            "action": "permit",
            "comment": "Allow 'admin' group complete access to all operations and data."
          }
        ]
      },
      {
        "name": "default-deny-all",
        "group": [
          "*"
        ],
        "rule": [
          {
            "name": "deny-password-read",
            "module-name": "ietf-system",
            "path": "/ietf-system:system/authentication/user/password",
            "access-operations": "*",
            "action": "deny"
          }
        ]
      }
    ]
  },
  "ietf-netconf-server:netconf-server": {
    "listen": {
      "endpoints": {
        "endpoint": [
          {
            "name": "default-ssh",
            "ssh": {
              "tcp-server-parameters": {
                "local-address": "::"
              },
              "ssh-server-parameters": {
                "server-identity": {
                  "host-key": [
                    {
                      "name": "default-key",
                      "public-key": {
                        "central-keystore-reference": "genkey"
                      }
                    }
                  ]
                }
              }
            }
          }
        ]
      }
    }
  },
  "ietf-system:system": {
    "hostname": "r2s-%m",
    "ntp": {
      "server": [
        {
          "name": "default",
          "udp": {
            "address": "pool.ntp.org"
          }
        }
      ]
    },
    "authentication": {
      "user": [
        {
          "name": "admin",
          "password": "$factory$",
          "infix-system:shell": "bash"
        }
      ]
    },
    "infix-system:motd-banner": "Li0tLS0tLS0uCnwgIC4gLiAgfCBJbmZpeCBPUyDigJQgSW1tdXRhYmxlLkZyaWVuZGx5LlNlY3VyZQp8LS4gdiAuLXwgaHR0cHM6Ly9rZXJuZWxraXQub3JnCictJy0tLSctJwo="
  },
  "infix-dhcp-server:dhcp-server": {
    "option": [
      {
        "id": "ntp-server",
        "address": "auto"
      },
      {
        "id": "dns-server",
        "address": "auto"
      },
      {
        "id": "router",
        "address": "auto"
      }
    ],
    "subnet": [
      {
        "subnet": "192.168.0.0/24",
        "pool": {
          "start-address": "192.168.0.100",
          "end-address": "192.168.0.250"
        }
      }
    ]
  },
  "infix-firewall:firewall": {
    "default": "wan",
    "zone": [
      {
        "name": "lan",
        "action": "accept",
        "interface": [
          "br0"
        ]
      },
      {
        "name": "wan",
        "action": "drop",
        "interface": [
          "wan"
        ],
        "service": [
          "dhcpv6-client"
        ]
      }
    ],
    "policy": [
      {
        "name": "lan-to-wan",
	"action": "accept",
        "ingress": [
          "lan"
        ],
        "egress": [
          "wan"
        ],
        "masquerade": true
      }
    ]
  },
  "infix-meta:meta": {
    "version": "1.6"
  },
  "infix-services:mdns": {
    "enabled": true
  },
  "infix-services:ssh": {
    "enabled": true,
    "hostkey": [
      "genkey"
    ],
    "listen": [
      {
        "name": "ipv4",
        "address": "0.0.0.0",
        "port": 22
      },
      {
        "name": "ipv6",
        "address": "::",
        "port": 22
      }
    ]
  },
  "infix-services:web": {
    "enabled": true,
    "console": {
      "enabled": true
    },
    "netbrowse": {
      "enabled": true
    },
    "restconf": {
      "enabled": true
    }
  }
}
